<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
body { background:#0f0f0f; color:#fff; font-family:Arial; padding:20px; }
li { background:#1c1c1c; padding:10px; margin-bottom:10px; list-style:none; border-radius:6px; }
button { background:crimson; color:#fff; border:none; padding:5px 10px; border-radius:4px; cursor:pointer; }
</style>
</head>

<body>

<script>
const sifre = prompt("Admin ÅŸifresi:");
if (sifre !== "1234") {
  document.body.innerHTML = "";
  throw new Error("Yetkisiz");
}
</script>

<h2>ðŸ“© Anonim Mesajlar</h2>
<ul id="list"></ul>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getFirestore, collection, getDocs, deleteDoc, doc } 
from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBSSFp-uB8XQdpCfS5jokwqkbnKBi6oXMc",
  authDomain: "etik-social.firebaseapp.com",
  projectId: "etik-social"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const list = document.getElementById("list");

const snap = await getDocs(collection(db, "messages"));

snap.forEach(d => {
  const li = document.createElement("li");
  li.textContent = d.data().message || "(Mesaj yok)";

  const btn = document.createElement("button");
  btn.textContent = "Sil";
  btn.onclick = async () => {
    await deleteDoc(doc(db, "messages", d.id));
    li.remove();
  };

  li.appendChild(document.createElement("br"));
  li.appendChild(btn);
  list.appendChild(li);
});
</script>

</body>
</html>
