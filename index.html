<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <style>
    body {
      background:#0b0f1a;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      font-family:Arial;
      color:white;
    }
    .box {
      background:#111;
      padding:20px;
      border-radius:10px;
      width:260px;
      text-align:center;
    }
    input, button {
      width:100%;
      margin-top:10px;
      padding:8px;
      border-radius:5px;
      border:none;
    }
    button {
      background:#1db954;
      color:black;
      font-weight:bold;
      cursor:pointer;
    }
    #msg { margin-top:10px; font-size:13px; }
  </style>
</head>
<body>

<div class="box">
  <h3>Giriş Yap</h3>
  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Şifre">
  <button type="button" onclick="login()">Giriş</button>
  <button type="button" onclick="register()">Kayıt Ol</button>
  <div id="msg"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
  const supabaseUrl = "https://sbvhrcajrachprijofeu.supabase.co";
  const supabaseKey = "sb_publishable_SZDpTJkUpqvX1QRbtZZnLw_ybdZfhad";

  const sb = supabase.createClient(supabaseUrl, supabaseKey);

  async function register() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { error } = await sb.auth.signUp({
      email: email,
      password: password
    });

    if (error) {
      document.getElementById("msg").innerText = "❌ " + error.message;
    } else {
      document.getElementById("msg").innerText =
        "✅ Kayıt başarılı! Şimdi giriş yapabilirsin.";
    }
  }

  async function login() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { error } = await sb.auth.signInWithPassword({
      email: email,
      password: password
    });

    if (error) {
      document.getElementById("msg").innerText = "❌ " + error.message;
    } else {
      document.getElementById("msg").innerText = "✅ Giriş başarılı!";
      // ileride buraya yönlendirme ekleriz
      // window.location.href = "panel.html";
    }
  }
</script>
  const supabaseUrl = "https://sbvhrcajrachprijofeu.supabase.co";
  const supabaseKey = "sb_publishable_SZDpTJkUpqvX1QRbtZZnLw_ybdZfhad";

  const sb = supabase.createClient(supabaseUrl, supabaseKey);

  async function register() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { error } = await sb.auth.signUp({
      email,
      password
    });

    document.getElementById("msg").innerText =
      error ? error.message : "✅ Kayıt başarılı! Mailini kontrol et";
  }

  async function login() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { error } = await sb.auth.signInWithPassword({
      email,
      password
    });

    document.getElementById("msg").innerText =
      error ? error.message : "✅ Giriş başarılı";
  }
</script>

</body>
</html>
